<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Container Tunnel Utility 23.1.0</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="README.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Container Tunnel Utility 23.1.0</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#general">1. General</a>
<ul>
<li><a href="#purpose-of-the-container-tunnel-utility">1.1. Purpose of the Container Tunnel Utility</a></li>
<li><a href="#preparation">1.2. Preparation</a></li>
<li><a href="#clientserver-mode">1.3. Client/Server Mode</a></li>
<li><a href="#integratedseparated-server-deployment">1.4. Integrated/Separated Server Deployment</a></li>
<li><a href="#security-aspects">1.5. Security Aspects</a></li>
<li><a href="#supported-veos-version">1.6. Supported VEOS Version</a></li>
</ul></li>
<li><a href="#linux-host-examples">2. Linux Host Examples</a>
<ul>
<li><a href="#configuring-the-host-for-the-ctun-client">2.1. Configuring the Host for the CTun Client</a></li>
<li><a href="#building-docker-images">2.2. Building Docker Images</a>
<ul>
<li><a href="#building-stand-alone-ctun-docker-images">2.2.1. Building Stand-Alone CTun Docker Images</a></li>
<li><a href="#building-veos-docker-image">2.2.2. Building VEOS Docker Image</a></li>
<li><a href="#building-integrated-docker-image">2.2.3. Building Integrated Docker Image</a></li>
</ul></li>
<li><a href="#running-ctun-with-docker">2.3. Running CTun with Docker</a>
<ul>
<li><a href="#integrated-server-deployment-docker">2.3.1. Integrated Server Deployment (Docker)</a></li>
<li><a href="#separated-server-deployment-docker">2.3.2. Separated Server Deployment (Docker)</a></li>
</ul></li>
<li><a href="#running-ctun-with-kubernetes">2.4. Running CTun with Kubernetes</a>
<ul>
<li><a href="#integrated-server-deployment-kubernetes">2.4.1. Integrated Server Deployment (Kubernetes)</a></li>
<li><a href="#separated-server-deployment-kubernetes">2.4.2. Separated Server Deployment (Kubernetes)</a></li>
</ul></li>
</ul></li>
<li><a href="#windows-host-examples">3. Windows Host Examples</a>
<ul>
<li><a href="#configuring-the-host-for-the-ctun-client-1">3.1. Configuring the Host for the CTun Client</a></li>
<li><a href="#building-docker-images-1">3.2. Building Docker Images</a>
<ul>
<li><a href="#building-stand-alone-ctun-docker-images-1">3.2.1. Building Stand-Alone CTun Docker Images</a></li>
<li><a href="#building-veos-docker-image-1">3.2.2. Building VEOS Docker Image</a></li>
<li><a href="#building-integrated-docker-image-1">3.2.3. Building Integrated Docker Image</a></li>
</ul></li>
<li><a href="#running-ctun-with-docker-1">3.3. Running CTun with Docker</a>
<ul>
<li><a href="#integrated-server-deployment-docker-1">3.3.1. Integrated Server Deployment (Docker)</a></li>
<li><a href="#separated-server-deployment-docker-1">3.3.2. Separated Server Deployment (Docker)</a></li>
</ul></li>
<li><a href="#running-ctun-with-kubernetes-1">3.4. Running CTun with Kubernetes</a>
<ul>
<li><a href="#integrated-server-deployment-kubernetes-1">3.4.1. Integrated Server Deployment (Kubernetes)</a></li>
<li><a href="#separated-server-deployment-kubernetes-1">3.4.2. Separated Server Deployment (Kubernetes)</a></li>
</ul></li>
</ul></li>
<li><a href="#changelog">4. Changelog</a></li>
<li><a href="#general-contact">5. General Contact</a></li>
<li><a href="#contacting-support">6. Contacting Support</a></li>
<li><a href="#important-notice">7. Important Notice</a></li>
</ul>
</nav>
<h1 id="general">1. General</h1>
<h2 id="purpose-of-the-container-tunnel-utility">1.1. Purpose of the Container Tunnel Utility</h2>
<p>If dSPACE VEOS (Kernel) runs in a container, you cannot access it with dSPACE ControlDesk, dSPACE MotionDesk, or dSPACE ModelDesk, because VEOS creates dynamic ports during run time. This means that port forwarding works only for static ports known at startup.</p>
<p>As a workaround, you can use the Container Tunnel Utility (CTun) to set up an Ethernet tunnel to bridge VEOS Kernel Ethernet communication with the clientsâ€™ local network.</p>
<summary>
<span><strong>The Container Tunnel Utility is intended for use with dSPACE software only.</strong></span>
</summary>
<h2 id="preparation">1.2. Preparation</h2>
<ul>
<li><strong>[optional]</strong> Download and install 7zip.<br>7zip can be used to extract the ZIP archive.</li>
<li><strong>[optional]</strong> Download and install Minikube.<br>Minikube is required for the Kubernetes example.</li>
<li><strong>[optional]</strong> Download and install Python 3.9<br>Python 3.9 is required to run provided Python scripts.</li>
<li>Download the VEOS 23.1 Linux tarball.
<ul>
<li><a href="https://www.dspace.com/goto?ProductsForLinux">dspace-veos-2023a.tar.gz</a></li>
</ul></li>
<li>To use CTun with VEOS, download the supplementary archive and extract it to <code>&lt;CTUN_INSTALL_DIR&gt;/veos/</code>.
<ul>
<li><a href="https://www.dspace.com/goto?ProductsForLinux">dspace-veos-2023a-docker-example.tar.gz</a></li>
</ul></li>
<li>Copy and extract <code>ctun-23.1.0.zip</code> to the host PC.
<ul>
<li>The archive is distributed with VEOS 23.1.
<ul>
<li>It can be found in the following directory of the Linux CTun installation:<br><code>&lt;CTUN_INSTALL_DIR&gt;/tools/ctun-23.1.0.zip</code></li>
</ul></li>
<li>It can also be extracted from a VEOS Docker container.<br> For example:<br>
<pre>
docker cp &lt;VEOS_CONTAINER&gt;:/opt/dspace/common/ctun/2023a/tools/ctun-23.1.0.zip .
7z x ctun-23.1.0.zip -o&lt;CTUN_INSTALL_DIR&gt;\ -ao
</pre></li>
</ul></li>
<li><strong>To build VEOS without Internet access</strong>, you have to provide additional files for the build process. Make sure that <code>&lt;CTUN_INSTALL_DIR&gt;/veos/</code> contains the following files:
<ul>
<li>Microsoft public key for the .NET installation
<ul>
<li>Downloadable from <a href="https://packages.microsoft.com/keys/microsoft.asc">https://packages.microsoft.com/keys/microsoft.asc</a></li>
</ul></li>
<li>Python Wheel files (.whl):
<ul>
<li>setuptools, supervisor_console, supervisor, supervisord_dependent_startup, toposort</li>
<li>Files can be downloaded with the following command on a machine that has Python installed and Internet access:<br>
<pre>
pip download --no-cache-dir supervisor==4.2.* supervisor-console==0.5.* supervisord-dependent-startup==1.4.*
</pre></li>
</ul></li>
</ul></li>
<li><strong>In the commands written in this document, all the values stated in the angle brackets/chevrons/&lt;&gt; need to be replaced with values specific for Your environment</strong></li>
</ul>
<h2 id="clientserver-mode">1.3. Client/Server Mode</h2>
<p>In general, CTun runs as a client or server. In the following topics, it is assumed that a CTun server runs in the network of the VEOS Kernel. However, communication is bidirectional, i.e., it is also possible to configure CTun in the other direction.</p>
<p>The only difference between the client and the server is that the server is started first and listens for client connections. Therefore, the client has to know the IP address of the server node.</p>
<h2 id="integratedseparated-server-deployment">1.4. Integrated/Separated Server Deployment</h2>
<p>CTun supports integrated and separated node deployment.<br></p>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="463px" height="252px" viewBox="-0.5 -0.5 463 252">
<defs/><g><rect x="1" y="0" width="180" height="220" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="21" y="20" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 50px; margin-left: 22px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="91" y="54" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="21" y="140" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 170px; margin-left: 22px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun
</div>
</div>
</div>
</foreignObject><text x="91" y="174" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun</text>
</switch>
</g><rect x="281" y="0" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="301" y="20" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 50px; margin-left: 302px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="371" y="54" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="281" y="120" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="301" y="140" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 170px; margin-left: 302px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Server
</div>
</div>
</div>
</foreignObject><text x="371" y="174" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Server</text>
</switch>
</g><path d="M 91 88.24 L 91 131.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 91 82.24 L 95 90.24 L 91 88.24 L 87 90.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 91 137.76 L 87 129.76 L 91 131.76 L 95 129.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 371 88.24 L 371 131.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 371 82.24 L 375 90.24 L 371 88.24 L 367 90.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 371 137.76 L 367 129.76 L 371 131.76 L 375 129.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="1" y="220" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 235px; margin-left: 2px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Integrated Node Deployment
</div>
</div>
</div>
</foreignObject><text x="91" y="239" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">Integrated Node Deployment</text>
</switch>
</g><rect x="281" y="220" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 235px; margin-left: 282px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Separated Node Deployment
</div>
</div>
</div>
</foreignObject><text x="371" y="239" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="13px" text-anchor="middle" font-weight="bold">Separated Node Deployment</text>
</switch>
</g></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<p>In the integrated node deployment, CTun runs on the same node, e.g., PC, VM, container, etc., as the target application, e.g., VEOS Kernel. In this configuration, a TAP device has to be created in the target node.</p>
<p>In the separated node deployment, CTun runs on a separate node, e.g., PC, VM, container, etc., that is in the same subnet as the target node. In this configuration, the IP address of the target node (with VEOS Kernel) must be known when the CTun client is started.</p>
<p>On Linux hosts, both deployments can be applied to both CTun client and server applications.</p>
<p>On Windows hosts, only clients with integrated node deployment are supported.</p>
<h2 id="security-aspects">1.5. Security Aspects</h2>
<p>The current version of the Container Tunnel Utility does not support secure communication. Therefore, the Container Tunnel Utility must not be used to transfer sensitive data over public networks.</p>
<h2 id="supported-veos-version">1.6. Supported VEOS Version</h2>
<p>Container Tunnel Utility 23.1.0 supports only the VEOS 23.1 version.</p>
<h1 id="linux-host-examples">2. Linux Host Examples</h1>
<p>This section provides examples for scenarios where CTun is used to connect applications running on a Linux host (e.g., veos-sim) to an application (e.g., VEOS) running in a container environment.</p>
<p>If VEOS is running in a local Docker environment on Linux hosts, applications can directly reach VEOS on the container IP (<code>$TARGET_IP</code>) in a bridged Docker network. This means you do not have to use CTun in this case.</p>
<p>Nonetheless, CTun can still be used on a Linux host to provide access to a VEOS instance executed on another node (PC, VM) in the network.</p>
<summary>
<span><strong>Before executing any of the subsequent listings, navigate to the CTun root directory.</strong></span>
</summary>
<h2 id="configuring-the-host-for-the-ctun-client">2.1. Configuring the Host for the CTun Client</h2>
<pre>sudo ./scripts/configure.sh --tap dstap0 192.168.100.100 --non-interactive
</pre>
<summary>
<p><span>Creates a virtual Ethernet controller (TAP device) and assigns an IP address that must be unique in your local network. (The configuration script assumes the subnet <code>255.255.255.0</code>.)</span></p>
<span>Ask your network administrator for a unique IP that does not conflict with your local network configuration.</span>
</summary>
<h2 id="building-docker-images">2.2. Building Docker Images</h2>
<p>Docker images can be built in both an online or an offline environment. When building Docker images in the offline environment you are expected to provide additional values that will be used instead of default values. For example, because it is not possible to access DockerHub from within the offline environment, you have to provide the IP/hostname of the locally available Docker repository.</p>
<summary>
<span> This step can be skipped if prebuilt images are already available in the local Docker image repository. To list Docker images available in the local Docker image repository, run <code>docker images</code>.</span>
</summary>
<h3 id="building-stand-alone-ctun-docker-images">2.2.1. Building Stand-Alone CTun Docker Images</h3>
<p>The listing below shows exemplary commands to create CTun Docker images <strong>with</strong> Internet access on Linux:</p>
<pre>./scripts/BuildCtun.py acceptDspaceEula
</pre>
<p>The listing below shows exemplary commands to create CTun Docker images <strong>without</strong> Internet access on Linux:</p>
<pre>./scripts/BuildCtun.py acceptDspaceEula --dockerRepository &lt;DOCKER_REPOSITORY&gt; --ubuntuArchiveServer &lt;UBUNTU_ARCHIVE_SERVER&gt; --ubuntuSecurityServer &lt;UBUNTU_SECURITY_SERVER&gt;
</pre>
<summary>
<span>Run <code>./scripts/BuildCtun.py --help</code> for detailed instructions on how to build stand-alone CTun Docker images.</span>
</summary>
<h3 id="building-veos-docker-image">2.2.2. Building VEOS Docker Image</h3>
<p>The listing below shows exemplary commands to create VEOS Docker image <strong>with</strong> Internet access on Linux:</p>
<pre>cp dspace-veos-2023a.tar.gz ./veos/dspace-veos-2023a.tar.gz
./veos/BuildVeos.py online acceptDspaceEula dspace/veos/simulator:23.1 dspace-veos-2023a.tar.gz
</pre>
<p>The listing below shows exemplary commands to create VEOS Docker image <strong>without</strong> Internet access on Linux:</p>
<pre>cp dspace-veos-2023a.tar.gz ./veos/dspace-veos-2023a.tar.gz
./veos/BuildVeos.py offline --dockerRepository &lt;DOCKER_REPOSITORY&gt; acceptDspaceEula dspace/veos/simulator:23.1 dspace-veos-2023a.tar.gz &lt;UBUNTU_ARCHIVE_SERVER&gt; &lt;UBUNTU_SECURITY_SERVER&gt; &lt;MICROSOFT_DOTNET_SERVER&gt; &lt;MICROSOFT_PUBLIC_KEY_FILE&gt;
</pre>
<summary>
<span>Run <code>./veos/BuildVeos.py --help</code> for detailed instructions on how to build VEOS Docker image.</span>
</summary>
<h3 id="building-integrated-docker-image">2.2.3. Building Integrated Docker Image</h3>
<p>An integrated Docker image contains both CTun and VEOS.</p>
<p>The listing below shows exemplary commands to create integrated Docker image <strong>with</strong> Internet access on Linux:</p>
<pre>cp dspace-veos-2023a.tar.gz ./veos/dspace-veos-2023a.tar.gz
./veos/BuildVeos.py online acceptDspaceEula dspace/veos/simulator:23.1-ctun dspace-veos-2023a.tar.gz --installCtun yes
</pre>
<p>The listing below shows exemplary commands to create integrated Docker image <strong>without</strong> Internet access on Linux:</p>
<pre>cp dspace-veos-2023a.tar.gz ./veos/dspace-veos-2023a.tar.gz
./veos/BuildVeos.py offline acceptDspaceEula dspace/veos/simulator:23.1-ctun dspace-veos-2023a.tar.gz &lt;UBUNTU_ARCHIVE_SERVER&gt; &lt;UBUNTU_SECURITY_SERVER&gt; &lt;MICROSOFT_DOTNET_SERVER&gt; &lt;MICROSOFT_PUBLIC_KEY_FILE&gt; --installCtun yes --dockerRepository &lt;DOCKER_REPOSITORY&gt;
</pre>
<summary>
<span>Run <code>./veos/BuildVeos.py --help</code> for detailed instructions on how to build integrated Docker image.</span>
</summary>
<h2 id="running-ctun-with-docker">2.3. Running CTun with Docker</h2>
<h3 id="integrated-server-deployment-docker">2.3.1. Integrated Server Deployment (Docker)</h3>
<ul>
<li>The CTun server runs in the same Docker container as the VEOS Kernel.</li>
<li>The CTun client runs on the same host as veos-sim.</li>
</ul>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="401px" height="324px" viewBox="-0.5 -0.5 401 324">
<defs/><g><rect x="220" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 200 321 L 200 1" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><rect x="0" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 0px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux PC
</div>
</div>
</div>
</foreignObject><text x="178" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux PC</text>
</switch>
</g><rect x="220" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 220px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux Docker Container
</div>
</div>
</div>
</foreignObject><text x="398" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux Docker Container</text>
</switch>
</g><rect x="0" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="20" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
veos-sim
</div>
</div>
</div>
</foreignObject><text x="90" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">veos-sim</text>
</switch>
</g><rect x="20" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Client
</div>
</div>
</div>
</foreignObject><text x="90" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Client</text>
</switch>
</g><rect x="240" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="310" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="240" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Server
</div>
</div>
</div>
</foreignObject><text x="310" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Server</text>
</switch>
</g><path d="M 90 129.24 L 90 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 90 123.24 L 94 131.24 L 90 129.24 L 86 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 90 198.76 L 86 190.76 L 90 192.76 L 94 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 129.24 L 310 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 310 123.24 L 314 131.24 L 310 129.24 L 306 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 198.76 L 306 190.76 L 310 192.76 L 314 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 168.24 231 L 231.76 231" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162.24 231 L 170.24 227 L 168.24 231 L 170.24 235 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 237.76 231 L 229.76 235 L 231.76 231 L 229.76 227 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<pre>./veos/RunVeos.py dspace/veos/simulator:23.1-ctun &lt;LICENSE_SERVER&gt; --startCtun yes
./bin/ctun client 127.0.0.1
</pre>
<summary>
<span>Run <code>./veos/RunVeos.py --help</code> for detailed information on how to run the integrated deployment of CTun and VEOS.</span>
</summary>
<h3 id="separated-server-deployment-docker">2.3.2. Separated Server Deployment (Docker)</h3>
<ul>
<li>The CTun server runs in a Docker container.</li>
<li>The VEOS Kernel runs in a separate Docker container.</li>
<li>The CTun client runs on the same host as veos-sim.</li>
</ul>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="402px" height="332px" viewBox="-0.5 -0.5 402 332">
<defs/><g><rect x="0" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 0px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
<br /><br />Linux PC
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="178" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux PCâ€¦</text>
</switch>
</g><rect x="220" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 220px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux Docker Container
</div>
</div>
</div>
</foreignObject><text x="398" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux Docker Container</text>
</switch>
</g><rect x="0" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="20" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />veos-sim
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">veos-simâ€¦</text>
</switch>
</g><rect x="20" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />CTun Client
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Clientâ€¦</text>
</switch>
</g><rect x="220" y="41" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="240" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="310" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="220" y="181" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="240" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />CTun Server
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="310" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Serverâ€¦</text>
</switch>
</g><path d="M 90 129.24 L 90 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 90 123.24 L 94 131.24 L 90 129.24 L 86 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 90 198.76 L 86 190.76 L 90 192.76 L 94 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 129.24 L 310 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 123.24 L 314 131.24 L 310 129.24 L 306 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 198.76 L 306 190.76 L 310 192.76 L 314 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 168.24 231 L 231.76 231" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162.24 231 L 170.24 227 L 168.24 231 L 170.24 235 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 237.76 231 L 229.76 235 L 231.76 231 L 229.76 227 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="320" y="141" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 161px; margin-left: 320px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux Docker Container
</div>
</div>
</div>
</foreignObject><text x="398" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux Dockerâ€¦</text>
</switch>
</g><path d="M 200 321 L 200 1" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<pre>./scripts/RunCtunAndVeosSeparately.py dspace/veos/simulator:23.1 &lt;LICENSE_SERVER&gt;
TARGET_IP=$(docker exec dspace-veos hostname -I)
echo TARGET_IP=$TARGET_IP
./bin/ctun client 127.0.0.1 --dest $TARGET_IP
</pre>
<summary>
<span>Run <code>./scripts/RunCtunAndVeosSeparately.py --help</code> for detailed information on how to run separated deployment of CTun and VEOS.</span>
</summary>
<h2 id="running-ctun-with-kubernetes">2.4. Running CTun with Kubernetes</h2>
<summary>
<span>Minikube caches Docker images in <code>%HOME%/.minikube/cache/images</code>. Delete this cache before loading images to Minikube.</span>
</summary>
<p>The following example uses Minikube to set up an exemplary Kubernetes installation.</p>
<pre>minikube start --driver kvm2
minikube image load dspace/ctun/local-server:23.1.0 -v 1
minikube image load dspace/ctun/separate-server:23.1.0 -v 1
minikube image load dspace/veos/simulator:23.1 -v 1
minikube dashboard
</pre>
<summary>
<p><span>Before proceeding, add CodeMeter license server to K8s configuration:</span></p>
<p><span>nano ./k8s/veos.23.1.ctun.yaml</span></p>
<span>nano ./k8s/veos.23.1.yaml</span>
</summary>
<h3 id="integrated-server-deployment-kubernetes">2.4.1. Integrated Server Deployment (Kubernetes)</h3>
<ul>
<li>The CTun server runs in the same Kubernetes Pod as the VEOS Kernel.
<ul>
<li>There are still two independent containers in the Kubernetes Pod.</li>
</ul></li>
<li>The CTun client runs on the same host as veos-sim.</li>
</ul>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="401px" height="332px" viewBox="-0.5 -0.5 401 332">
<defs/><g><rect x="220" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="0" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 0px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
<br /><br />Linux PC
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="178" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux PCâ€¦</text>
</switch>
</g><rect x="220" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 220px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s Pod
</div>
</div>
</div>
</foreignObject><text x="398" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8s Pod</text>
</switch>
</g><rect x="0" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="20" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />veos-sim
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">veos-simâ€¦</text>
</switch>
</g><rect x="20" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Client
</div>
</div>
</div>
</foreignObject><text x="90" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Client</text>
</switch>
</g><rect x="240" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="310" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="240" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Server
</div>
</div>
</div>
</foreignObject><text x="310" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Server</text>
</switch>
</g><path d="M 90 129.24 L 90 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 90 123.24 L 94 131.24 L 90 129.24 L 86 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 90 198.76 L 86 190.76 L 90 192.76 L 94 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 129.24 L 310 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 310 123.24 L 314 131.24 L 310 129.24 L 306 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 198.76 L 306 190.76 L 310 192.76 L 314 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 168.24 231 L 231.76 231" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162.24 231 L 170.24 227 L 168.24 231 L 170.24 235 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 237.76 231 L 229.76 235 L 231.76 231 L 229.76 227 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 200 321 L 200 1" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<pre>minikube kubectl -- apply -f ./k8s/ctun-service.yaml
minikube kubectl -- apply -f ./k8s/veos.23.1.ctun.yaml
KUBERNETES_IP=$(minikube ip)
echo KUBERNETES_IP=${KUBERNETES_IP} 
minikube kubectl -- get service ctun-service
NODEPORT_PORT=$(minikube kubectl -- get service ctun-service --output=jsonpath={.spec.ports[0].nodePort})
echo NODEPORT_PORT=${NODEPORT_PORT} 
./bin/ctun client ${KUBERNETES_IP} --port ${NODEPORT_PORT}
</pre>
<h3 id="separated-server-deployment-kubernetes">2.4.2. Separated Server Deployment (Kubernetes)</h3>
<ul>
<li>The VEOS Kernel runs in 5 Kubernetes Pods.</li>
<li>The CTun server runs in a separate Kubernetes Pod.</li>
<li>The CTun client runs on the same host as veos-sim.</li>
</ul>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="801px" height="345px" viewBox="-0.5 -0.5 801 345">
<defs/><g><rect x="0" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 0px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
<br /><br />Linux PC
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="178" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux PCâ€¦</text>
</switch>
</g><rect x="320" y="281" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 301px; margin-left: 320px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
<br /><br />Linux K8s Pod
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="398" y="305" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8s Podâ€¦</text>
</switch>
</g><rect x="0" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="20" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />veos-sim
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">veos-simâ€¦</text>
</switch>
</g><rect x="20" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />CTun Client
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Clientâ€¦</text>
</switch>
</g><rect x="220" y="41" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="240" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="310" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="220" y="181" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="240" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />CTun Server
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="310" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Serverâ€¦</text>
</switch>
</g><path d="M 90 129.24 L 90 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 90 123.24 L 94 131.24 L 90 129.24 L 86 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 90 198.76 L 86 190.76 L 90 192.76 L 94 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 129.24 L 310 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 123.24 L 314 131.24 L 310 129.24 L 306 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 198.76 L 306 190.76 L 310 192.76 L 314 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 168.24 231 L 231.76 231" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162.24 231 L 170.24 227 L 168.24 231 L 170.24 235 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 237.76 231 L 229.76 235 L 231.76 231 L 229.76 227 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="320" y="141" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 161px; margin-left: 320px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="398" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><rect x="420" y="41" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="440" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 441px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="510" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="520" y="141" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 161px; margin-left: 520px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="598" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><rect x="420" y="181" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="440" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 441px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="510" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="520" y="281" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 301px; margin-left: 520px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="598" y="305" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><rect x="620" y="41" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="640" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 641px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="710" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="720" y="141" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 161px; margin-left: 720px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="798" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><rect x="620" y="181" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="640" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 641px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="710" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="720" y="281" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 301px; margin-left: 720px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="798" y="305" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><path d="M 200 321 L 200 1" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<pre>minikube kubectl -- apply -f ./k8s/ctun-service.yaml
minikube kubectl -- apply -f ./k8s/veos.23.1.yaml
minikube kubectl -- apply -f ./k8s/ctun-separate-server.yaml
KUBERNETES_IP=$(minikube ip)
echo KUBERNETES_IP=${KUBERNETES_IP} 
minikube kubectl -- get service ctun-service
NODEPORT_PORT=$(minikube kubectl -- get service ctun-service --output=jsonpath={.spec.ports[0].nodePort})
echo NODEPORT_PORT=${NODEPORT_PORT} 
POD_NAME=$(minikube kubectl -- get pod -l app=veos --output=jsonpath={.items[0].metadata.name})
echo POD_NAME=${POD_NAME} 
TARGET_IP=$(minikube kubectl -- exec ${POD_NAME} -- hostname -I)
echo TARGET_IP=${TARGET_IP} 
./bin/ctun client ${KUBERNETES_IP} --port ${NODEPORT_PORT} --dest ${TARGET_IP}
</pre>
<h1 id="windows-host-examples">3. Windows Host Examples</h1>
<summary>
<span><strong>Before executing any of subsequent listings, navigate to the CTun root directory.</strong></span>
</summary>
<h2 id="configuring-the-host-for-the-ctun-client-1">3.1. Configuring the Host for the CTun Client</h2>
<pre>.\scripts\Configure.bat -Ip 192.168.100.100 -FixDockerDesktopVm -NonInteractive
</pre>
<summary>
<p><span>Creates a virtual Ethernet controller (TAP device) and assigns an IP address that must be unique in your local network. (The configuration script assumes the subnet <code>255.255.255.0</code>.)</span></p>
<span>Ask your network administrator for a unique IP that does not conflict with your local network configuration.</span>
</summary>
<summary>
<p><span>The <code>-FixDockerDesktopVm</code> option is optional and can be used to fix <a href="https://github.com/linuxkit/linuxkit/issues/3432">LinuxKit issue 3432</a>, which has already been fixed in upstream Alpine Linux by <a href="https://gitlab.alpinelinux.org/alpine/aports/-/commit/f22963eb8177ad5e3ebcb6de94c9dcf93dd382a4">commit f22963eb</a>, but is not yet fixed in the LinuxKit or in the DockerDesktop.</span></p>
<span>If the issue is not fixed, the integrated CTun server deployment will fail in combination with DockerDesktop and the Hyper-V back end.</span>
</summary>
<h2 id="building-docker-images-1">3.2. Building Docker Images</h2>
<p>Docker images can be built in both an online or offline environment. When building Docker images in the offline environment, you are expected to provide additional values that will be used instead of default values. For example, since it is not possible to access DockerHub from within the offline environment, you have to provide the IP/hostname of the locally available Docker repository.</p>
<summary>
<span> This step can be skipped if prebuilt images are already available in the local Docker image repository. To list Docker images available in the local Docker image repository, run <code>docker images</code>.</span>
</summary>
<h3 id="building-stand-alone-ctun-docker-images-1">3.2.1. Building Stand-Alone CTun Docker Images</h3>
<p>The listing below shows exemplary commands to create CTun Docker images <strong>with</strong> Internet access on Windows:</p>
<pre>.\scripts\BuildCtun.py acceptDspaceEula
</pre>
<p>The listing below shows exemplary commands to create CTun Docker images <strong>without</strong> Internet access on Windows:</p>
<pre>.\scripts\BuildCtun.py acceptDspaceEula --dockerRepository &lt;DOCKER_REPOSITORY&gt; --ubuntuArchiveServer &lt;UBUNTU_ARCHIVE_SERVER&gt; --ubuntuSecurityServer &lt;UBUNTU_SECURITY_SERVER&gt;
</pre>
<summary>
<span>Run <code>.\scripts\BuildCtun.py --help</code> for detailed instructions on how to build stand-alone CTun Docker images.</span>
</summary>
<h3 id="building-veos-docker-image-1">3.2.2. Building VEOS Docker Image</h3>
<p>The listing below shows exemplary commands to create VEOS Docker image <strong>with</strong> Internet access on Windows:</p>
<pre>copy dspace-veos-2023a.tar.gz .\veos\dspace-veos-2023a.tar.gz
.\veos\BuildVeos.py online acceptDspaceEula dspace/veos/simulator:23.1 dspace-veos-2023a.tar.gz
</pre>
<p>The listing below shows exemplary commands to create VEOS Docker image <strong>without</strong> Internet access on Windows:</p>
<pre>copy dspace-veos-2023a.tar.gz .\veos\dspace-veos-2023a.tar.gz
.\veos\BuildVeos.py offline acceptDspaceEula dspace/veos/simulator:23.1 dspace-veos-2023a.tar.gz &lt;UBUNTU_ARCHIVE_SERVER&gt; &lt;UBUNTU_SECURITY_SERVER&gt; &lt;MICROSOFT_DOTNET_SERVER&gt; &lt;MICROSOFT_PUBLIC_KEY_FILE&gt; --dockerRepository &lt;DOCKER_REPOSITORY&gt;
</pre>
<summary>
<span>Run <code>.\veos\BuildVeos.py --help</code> for detailed instructions on how to build VEOS Docker image.</span>
</summary>
<h3 id="building-integrated-docker-image-1">3.2.3. Building Integrated Docker Image</h3>
<p>An integrated Docker image contains both CTun and VEOS.</p>
<p>The listing below shows exemplary commands to create integrated Docker image <strong>with</strong> Internet access on Windows:</p>
<pre>copy dspace-veos-2023a.tar.gz .\veos\dspace-veos-2023a.tar.gz
.\veos\BuildVeos.py online acceptDspaceEula dspace/veos/simulator:23.1-ctun dspace-veos-2023a.tar.gz --installCtun yes
</pre>
<p>The listing below shows exemplary commands to create integrated Docker image <strong>without</strong> Internet access on Windows:</p>
<pre>copy dspace-veos-2023a.tar.gz .\veos\dspace-veos-2023a.tar.gz
.\veos\BuildVeos.py offline acceptDspaceEula dspace/veos/simulator:23.1-ctun dspace-veos-2023a.tar.gz &lt;UBUNTU_ARCHIVE_SERVER&gt; &lt;UBUNTU_SECURITY_SERVER&gt; &lt;MICROSOFT_DOTNET_SERVER&gt; &lt;MICROSOFT_PUBLIC_KEY_FILE&gt; --installCtun yes --dockerRepository &lt;DOCKER_REPOSITORY&gt;
</pre>
<summary>
<span>Run <code>.\veos\BuildVeos.py --help</code> for detailed instructions on how to build integrated Docker image.</span>
</summary>
<h2 id="running-ctun-with-docker-1">3.3. Running CTun with Docker</h2>
<h3 id="integrated-server-deployment-docker-1">3.3.1. Integrated Server Deployment (Docker)</h3>
<ul>
<li>The CTun server runs in the same Docker container as the VEOS Kernel.</li>
<li>The CTun client runs on the same host as ControlDesk/VeosPlayer.</li>
</ul>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="401px" height="324px" viewBox="-0.5 -0.5 401 324">
<defs/><g><rect x="220" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 200 321 L 200 1" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><rect x="0" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 0px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Windows PC
</div>
</div>
</div>
</foreignObject><text x="178" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Windows PC</text>
</switch>
</g><rect x="220" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 220px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux Docker Container
</div>
</div>
</div>
</foreignObject><text x="398" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux Docker Container</text>
</switch>
</g><rect x="0" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="20" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
ControlDesk
</div>
</div>
</div>
</foreignObject><text x="90" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">ControlDesk</text>
</switch>
</g><rect x="20" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Client
</div>
</div>
</div>
</foreignObject><text x="90" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Client</text>
</switch>
</g><rect x="240" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="310" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="240" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Server
</div>
</div>
</div>
</foreignObject><text x="310" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Server</text>
</switch>
</g><path d="M 90 129.24 L 90 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 90 123.24 L 94 131.24 L 90 129.24 L 86 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 90 198.76 L 86 190.76 L 90 192.76 L 94 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 129.24 L 310 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 310 123.24 L 314 131.24 L 310 129.24 L 306 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 198.76 L 306 190.76 L 310 192.76 L 314 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 168.24 231 L 231.76 231" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162.24 231 L 170.24 227 L 168.24 231 L 170.24 235 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 237.76 231 L 229.76 235 L 231.76 231 L 229.76 227 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<pre>.\veos\RunVeos.py dspace/veos/simulator:23.1-ctun &lt;LICENSE_SERVER&gt; --startCtun yes
.\bin\ctun.exe client 127.0.0.1
</pre>
<summary>
<span>Run <code>.\veos\RunVeos.py --help</code> for detailed information on how to run an integrated deployment of CTun and VEOS.</span>
</summary>
<h3 id="separated-server-deployment-docker-1">3.3.2. Separated Server Deployment (Docker)</h3>
<ul>
<li>The CTun server runs in a Docker container.</li>
<li>The VEOS Kernel runs in a separate Docker container.</li>
<li>The CTun client runs on the same host as ControlDesk/VeosPlayer.</li>
</ul>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="402px" height="324px" viewBox="-0.5 -0.5 402 324">
<defs/><g><rect x="0" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 0px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Windows PC
</div>
</div>
</div>
</foreignObject><text x="178" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Windows PC</text>
</switch>
</g><rect x="220" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 220px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux Docker Container
</div>
</div>
</div>
</foreignObject><text x="398" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux Docker Container</text>
</switch>
</g><rect x="0" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="20" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />ControlDesk
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">ControlDeskâ€¦</text>
</switch>
</g><rect x="20" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />CTun Client
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Clientâ€¦</text>
</switch>
</g><rect x="220" y="41" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="240" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="310" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="220" y="181" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="240" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />CTun Server
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="310" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Serverâ€¦</text>
</switch>
</g><path d="M 90 129.24 L 90 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 90 123.24 L 94 131.24 L 90 129.24 L 86 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 90 198.76 L 86 190.76 L 90 192.76 L 94 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 129.24 L 310 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 123.24 L 314 131.24 L 310 129.24 L 306 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 198.76 L 306 190.76 L 310 192.76 L 314 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 168.24 231 L 231.76 231" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162.24 231 L 170.24 227 L 168.24 231 L 170.24 235 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 237.76 231 L 229.76 235 L 231.76 231 L 229.76 227 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="320" y="141" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 161px; margin-left: 320px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux Docker Container
</div>
</div>
</div>
</foreignObject><text x="398" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux Dockerâ€¦</text>
</switch>
</g><path d="M 200 321 L 200 1" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<pre>.\scripts\RunCtunAndVeosSeparately.py dspace/veos/simulator:23.1 &lt;LICENSE_SERVER&gt;
docker exec dspace-veos hostname -I &gt; target-ip.txt
SET /P TARGET_IP=&lt;target-ip.txt
ECHO TARGET_IP=%TARGET_IP% 
.\bin\ctun.exe client 127.0.0.1 --dest %TARGET_IP%
</pre>
<summary>
<span>Run <code>.\scripts\RunCtunAndVeosSeparately.py --help</code> for detailed information on how to run separated deployment of CTun and VEOS.</span>
</summary>
<h2 id="running-ctun-with-kubernetes-1">3.4. Running CTun with Kubernetes</h2>
<summary>
<span>Minikube caches Docker images in <code>%HOME%&gt;\.minikube\cache\images</code>. Delete this cache before loading images to Minikube.</span>
</summary>
<p>The following example uses Minikube to set up an exemplary Kubernetes installation.</p>
<pre>minikube.exe start --driver hyperv
minikube.exe image load dspace/ctun/local-server:23.1.0 -v 1
minikube.exe image load dspace/ctun/separate-server:23.1.0 -v 1
minikube.exe image load dspace/veos/simulator:23.1 -v 1
minikube.exe dashboard
</pre>
<summary>
<p><span>Before proceeding, add CodeMeter license server to K8s configuration:</span></p>
<p><span>nano .\k8s\veos.23.1.ctun.yaml</span></p>
<span>nano .\k8s\veos.23.1.yaml</span>
</summary>
<h3 id="integrated-server-deployment-kubernetes-1">3.4.1. Integrated Server Deployment (Kubernetes)</h3>
<ul>
<li>The CTun server runs in the same Kubernetes Pod as the VEOS Kernel.
<ul>
<li>There are still two independent containers in the Kubernetes Pod.</li>
</ul></li>
<li>The CTun client runs on the same host as ControlDesk/VeosPlayer.</li>
</ul>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="401px" height="324px" viewBox="-0.5 -0.5 401 324">
<defs/><g><rect x="220" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="0" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 0px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Windows PC
</div>
</div>
</div>
</foreignObject><text x="178" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Windows PC</text>
</switch>
</g><rect x="220" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 220px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s Pod
</div>
</div>
</div>
</foreignObject><text x="398" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8s Pod</text>
</switch>
</g><rect x="0" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="20" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
ControlDesk
</div>
</div>
</div>
</foreignObject><text x="90" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">ControlDesk</text>
</switch>
</g><rect x="20" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Client
</div>
</div>
</div>
</foreignObject><text x="90" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Client</text>
</switch>
</g><rect x="240" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="310" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="240" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
CTun Server
</div>
</div>
</div>
</foreignObject><text x="310" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Server</text>
</switch>
</g><path d="M 90 129.24 L 90 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 90 123.24 L 94 131.24 L 90 129.24 L 86 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 90 198.76 L 86 190.76 L 90 192.76 L 94 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 129.24 L 310 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 310 123.24 L 314 131.24 L 310 129.24 L 306 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 198.76 L 306 190.76 L 310 192.76 L 314 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 168.24 231 L 231.76 231" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162.24 231 L 170.24 227 L 168.24 231 L 170.24 235 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 237.76 231 L 229.76 235 L 231.76 231 L 229.76 227 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 200 321 L 200 1" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<pre>minikube.exe kubectl -- apply -f .\k8s\ctun-service.yaml
minikube.exe kubectl -- apply -f .\k8s\veos.23.1.ctun.yaml
minikube.exe ip &gt; minikube-ip.txt
SET /P KUBERNETES_IP=&lt;minikube-ip.txt
ECHO KUBERNETES_IP=%KUBERNETES_IP% 
minikube.exe kubectl -- get service ctun-service
minikube.exe kubectl -- get service ctun-service --output=jsonpath={.spec.ports[0].nodePort} &gt; nodeport.txt
SET /P NODEPORT_PORT=&lt;nodeport.txt
ECHO NODEPORT_PORT=%NODEPORT_PORT% 
.\bin\ctun.exe client %KUBERNETES_IP% --port %NODEPORT_PORT%
</pre>
<h3 id="separated-server-deployment-kubernetes-1">3.4.2. Separated Server Deployment (Kubernetes)</h3>
<ul>
<li>The VEOS Kernel runs in 5 Kubernetes Pods.</li>
<li>The CTun server runs in a separate Kubernetes Pod.</li>
<li>The CTun client runs on the same host as ControlDesk/VeosPlayer.</li>
</ul>
<div style="text-align:center;margin-top:1em;">
<!-- See CTun.drawio file. (Created with draw.io; exported manually to svg; copy and paste) -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="801px" height="345px" viewBox="-0.5 -0.5 801 345">
<defs/><g><rect x="0" y="281" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 178px; height: 1px; padding-top: 296px; margin-left: 0px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Windows PC
</div>
</div>
</div>
</foreignObject><text x="178" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Windows PC</text>
</switch>
</g><rect x="320" y="281" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 301px; margin-left: 320px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
<br /><br />Linux K8s Pod
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="398" y="305" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8s Podâ€¦</text>
</switch>
</g><rect x="0" y="41" width="180" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="20" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />ControlDesk
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">ControlDeskâ€¦</text>
</switch>
</g><rect x="20" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 21px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />CTun Client
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="90" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Clientâ€¦</text>
</switch>
</g><rect x="220" y="41" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="240" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="310" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="220" y="181" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="240" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 241px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
<br /><br />CTun Server
<div>
<br />
</div>
<div>
<br />
</div>
</div>
</div>
</div>
</foreignObject><text x="310" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">CTun Serverâ€¦</text>
</switch>
</g><path d="M 90 129.24 L 90 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 4" pointer-events="stroke"/><path d="M 90 123.24 L 94 131.24 L 90 129.24 L 86 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 90 198.76 L 86 190.76 L 90 192.76 L 94 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 129.24 L 310 192.76" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 123.24 L 314 131.24 L 310 129.24 L 306 131.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 198.76 L 306 190.76 L 310 192.76 L 314 190.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 168.24 231 L 231.76 231" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162.24 231 L 170.24 227 L 168.24 231 L 170.24 235 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 237.76 231 L 229.76 235 L 231.76 231 L 229.76 227 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="320" y="141" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 161px; margin-left: 320px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="398" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><rect x="420" y="41" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="440" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 441px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="510" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="520" y="141" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 161px; margin-left: 520px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="598" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><rect x="420" y="181" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="440" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 441px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="510" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="520" y="281" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 301px; margin-left: 520px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="598" y="305" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><rect x="620" y="41" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="640" y="61" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 91px; margin-left: 641px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="710" y="95" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="720" y="141" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 161px; margin-left: 720px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="798" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><rect x="620" y="181" width="180" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="640" y="201" width="140" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 231px; margin-left: 641px;">
<div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
VEOS Kernel
</div>
</div>
</div>
</foreignObject><text x="710" y="235" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">VEOS Kernel</text>
</switch>
</g><rect x="720" y="281" width="80" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)">
<switch>
<foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
<div data-xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 78px; height: 1px; padding-top: 301px; margin-left: 720px;">
<div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: right;">
<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">
Linux K8s<br />Â Pod
</div>
</div>
</div>
</foreignObject><text x="798" y="305" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="end" font-weight="bold">Linux K8sâ€¦</text>
</switch>
</g><path d="M 200 321 L 200 1" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/></g>
<switch>
<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a>
</switch>
</svg>
</div>
<pre>minikube.exe kubectl -- apply -f .\k8s\ctun-service.yaml
minikube.exe kubectl -- apply -f .\k8s\veos.23.1.yaml
minikube.exe kubectl -- apply -f .\k8s\ctun-separate-server.yaml
minikube.exe ip &gt; minikube-ip.txt
SET /P KUBERNETES_IP=&lt;minikube-ip.txt
ECHO KUBERNETES_IP=%KUBERNETES_IP% 
minikube.exe kubectl -- get service ctun-service
minikube.exe kubectl -- get service ctun-service --output=jsonpath={.spec.ports[0].nodePort} &gt; nodeport.txt
SET /P NODEPORT_PORT=&lt;nodeport.txt
ECHO NODEPORT_PORT=%NODEPORT_PORT% 
minikube.exe kubectl -- get pod -l app=veos --output=jsonpath={.items[0].metadata.name} &gt; pod.txt
SET /P POD_NAME=&lt;pod.txt
ECHO POD_NAME=%POD_NAME% 
minikube.exe kubectl -- exec %POD_NAME% -- hostname -I &gt; target-ip.txt
SET /P TARGET_IP=&lt;target-ip.txt
ECHO TARGET_IP=%TARGET_IP% 
.\bin\ctun.exe client %KUBERNETES_IP% --port %NODEPORT_PORT% --dest %TARGET_IP%
</pre>
<h1 id="changelog">4. Changelog</h1>
<ul>
<li>Version 1.0.0:
<ul>
<li>Initial release</li>
</ul></li>
<li>Version 22.2.0:
<ul>
<li>New version format</li>
<li>Add support for VEOS 22.2</li>
<li>Update tap-windows6 driver to Version 9.24.7 to support Windows Server 2019</li>
<li>Add support for DockerDesktop 4.12.0</li>
</ul></li>
<li>Version 23.1.0:
<ul>
<li>Add support for VEOS 23.1</li>
<li>Add support to build CTun docker images in an offline environment</li>
<li>Reimplement helper scripts that build and run docker images in python
<ul>
<li>CLI changes</li>
<li>Restructure files and directories</li>
</ul></li>
</ul></li>
</ul>
<h1 id="general-contact">5. General Contact</h1>
<table>
<tr>
<td style="vertical-align: top;">
<b>Mail:</b>
</td>
<td>
dSPACE GmbH<br>RathenaustraÃŸe 26<br>33102 Paderborn<br>Germany
</td>
</tr>
<tr>
<td>
<b>Tel.:</b>
</td>
<td>
+49 5251 1638-0
</td>
</tr>
<tr>
<td>
<b>E-mail:</b>
</td>
<td>
info@dspace.de
</td>
</tr>
<tr>
<td>
<b>Web:</b>
</td>
<td>
<a href="https://www.dspace.com">https://www.dspace.com</a>
</td>
</tr>
</table>
<h1 id="contacting-support">6. Contacting Support</h1>
<p>If you encounter a problem or have a support request, you can contact the dSPACE support team and provide information about your dSPACE environment and the problems or questions you have.</p>
<p>The best way to do this is by filling out the support request form (<a href="https://www.dspace.com/go/supportrequest">https://www.dspace.com/go/supportrequest</a>), but you can also send an e-mail (support@dspace.de).</p>
<h1 id="important-notice">7. Important Notice</h1>
<p>dSPACE Help contains links to websites, some of which are third-party-owned and not the possession of dSPACE GmbH. dSPACE GmbH does not have proprietary rights to these websites and is not to be held responsible for their contents.</p>
<p>Â© 2023, dSPACE GmbH. All rights reserved. Brand names or product names are trademarks or registered trademarks of their respective companies or organizations.</p>
</body>
</html>
